<!doctype html>
<html>
<head>
  <title>Refresh Elixir</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white">

<!-- HERO -->
<section class="relative h-[90vh] flex items-center justify-center">
  <img src="images/100ml.jpg" class="absolute inset-0 w-full h-full object-cover opacity-40">
  <div class="relative text-center">
    <h1 class="text-5xl font-bold">Refresh Elixir</h1>
    <p class="mt-4 text-white/70">Premium perfumes for every mood</p>
    <a href="products.html" class="inline-block mt-6 bg-pink-600 px-6 py-3 rounded">
      Explore Collection
    </a>
  </div>
</section>

<!-- BEST SELLERS -->
<section class="max-w-6xl mx-auto px-6 py-20">
  <h2 class="text-2xl mb-8">Best Sellers</h2>
  <div id="grid" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
</section>

<script type="module">
import { PRODUCTS, SIZES } from "./data.js";

const BEST = [1,10,12,16,17,18,19,21,23,29,32,33,38,39];
const grid = document.getElementById("grid");

function addToCart(p, size) {
  const cart = JSON.parse(localStorage.getItem("cart") || "[]");
  const item = cart.find(i => i.id===p.id && i.ml===size.ml);
  if (item) item.qty++;
  else cart.push({ id:p.id, name:p.name, ml:size.ml, price:size.price, qty:1 });
  localStorage.setItem("cart", JSON.stringify(cart));
  location.href = "checkout.html";
}

PRODUCTS.filter(p=>BEST.includes(p.id)).forEach(p=>{
  let size = SIZES[2];
  const div = document.createElement("div");
  div.className="border border-white/10 p-6 rounded";
  div.innerHTML=`
    <img src="${size.image}" class="h-40 mx-auto mb-4" />
    <h3>${p.name}</h3>
    <select class="bg-black border mt-2 w-full">
      ${SIZES.map(s=>`<option value="${s.ml}">${s.ml}ml – ₹${s.price}</option>`).join("")}
    </select>
    <button class="mt-4 bg-pink-600 w-full py-2 rounded">Buy Now</button>
  `;
  const img=div.querySelector("img");
  const sel=div.querySelector("select");
  sel.onchange=()=>{ size=SIZES.find(s=>s.ml==sel.value); img.src=size.image; };
  div.querySelector("button").onclick=()=>addToCart(p,size);
  grid.appendChild(div);
});
</script>

</body>
</html>
