<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Perfume Collection â€“ Refresh Elixir</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-neutral-950 text-white">

<!-- HEADER -->
<header class="max-w-6xl mx-auto px-6 py-8">
  <h1 class="text-3xl font-bold">Perfume Collection</h1>
  <p class="text-white/60 mt-1">
    Explore our signature fragrances
  </p>
</header>

<!-- BEST SELLERS -->
<section class="max-w-6xl mx-auto px-6 pb-12">
  <h2 class="text-2xl font-semibold mb-4">Best Sellers</h2>

  <div
    id="bestSellerGrid"
    class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"
  ></div>
</section>

<!-- CATEGORY FILTER -->
<section class="max-w-6xl mx-auto px-6 pb-6">
  <div class="flex flex-wrap gap-3">
    <button class="cat-btn active" data-cat="ALL">All</button>
    <button class="cat-btn" data-cat="Musk">Musk</button>
    <button class="cat-btn" data-cat="Fresh">Fresh</button>
    <button class="cat-btn" data-cat="Floral">Floral</button>
    <button class="cat-btn" data-cat="Aquatic">Aquatic</button>
    <button class="cat-btn" data-cat="Woody">Woody</button>
    <button class="cat-btn" data-cat="Spicy">Spicy</button>
    <button class="cat-btn" data-cat="Sweet">Sweet</button>
  </div>
</section>

<!-- ALL PRODUCTS -->
<section class="max-w-6xl mx-auto px-6 pb-20">
  <div
    id="productsGrid"
    class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"
  ></div>
</section>

<script type="module">
import { PRODUCTS } from "./data.js";

/* ---------- CONFIG ---------- */
/* Choose best sellers by ID here */
const BEST_SELLER_IDS = [1, 2, 5, 12, 20, 36];

/* ---------- DOM ---------- */
const bestGrid = document.getElementById("bestSellerGrid");
const productsGrid = document.getElementById("productsGrid");
const buttons = document.querySelectorAll(".cat-btn");

/* ---------- CARD TEMPLATE ---------- */
function createCard(p, badgeText = null) {
  const card = document.createElement("div");
  card.className =
    "bg-white text-black rounded-xl p-5 shadow space-y-3";

  card.innerHTML = `
    <div class="flex justify-between items-start">
      <h3 class="text-lg font-semibold">${p.name}</h3>
      <span class="text-xs bg-pink-100 text-pink-700 px-2 py-1 rounded">
        ${p.category}
      </span>
    </div>

    ${
      badgeText
        ? `<span class="inline-block text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded">${badgeText}</span>`
        : ""
    }

    <p class="text-sm text-gray-700">
      <strong>Character:</strong> ${p.character}
    </p>

    <p class="text-sm text-gray-700">
      <strong>Scent:</strong> ${p.scentProfile}
    </p>

    <p class="text-sm text-gray-700">
      <strong>Best for:</strong> ${p.occasion}
    </p>

    <button class="mt-3 w-full bg-pink-600 hover:bg-pink-700 text-white py-2 rounded">
      Add to Cart
    </button>
  `;

  return card;
}

/* ---------- RENDER BEST SELLERS ---------- */
function renderBestSellers() {
  bestGrid.innerHTML = "";

  const bestSellers = PRODUCTS.filter(p =>
    BEST_SELLER_IDS.includes(p.id)
  );

  bestSellers.forEach(p => {
    bestGrid.appendChild(createCard(p, "Best Seller"));
  });
}

/* ---------- RENDER PRODUCTS ---------- */
function renderProducts(list) {
  productsGrid.innerHTML = "";

  if (!list.length) {
    productsGrid.innerHTML =
      "<p class='text-white/60'>No perfumes found.</p>";
    return;
  }

  list.forEach(p => {
    productsGrid.appendChild(createCard(p));
  });
}

/* ---------- CATEGORY FILTER ---------- */
buttons.forEach(btn => {
  btn.addEventListener("click", () => {
    buttons.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");

    const cat = btn.dataset.cat;
    renderProducts(
      cat === "ALL"
        ? PRODUCTS
        : PRODUCTS.filter(p => p.category === cat)
    );
  });
});

/* ---------- INITIAL LOAD ---------- */
window.addEventListener("DOMContentLoaded", () => {
  renderBestSellers();
  renderProducts(PRODUCTS);
});
</script>

<style>
.cat-btn {
  padding: 6px 14px;
  border-radius: 9999px;
  background: #262626;
  font-size: 14px;
}
.cat-btn.active {
  background: #ec4899;
}
</style>

</body>
</html>

